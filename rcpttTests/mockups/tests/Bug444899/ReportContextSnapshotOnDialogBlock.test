--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _V0104D8TEeSV5L6atfY6Ug,_qhWXcPLLEfCHIefTd4RlqA,_cQEZwD2QEeSxD9UFwnFS6w,_7FHY0Hl8EeSxJeam03ptGg
Element-Name: ReportContextSnapshotOnDialogBlock
Element-Type: testcase
Element-Version: 3.0
External-Reference: https://bugs.eclipse.org/bugs/show_bug.cgi?id=444899
Id: _L6NkIPLNEfCHIefTd4RlqA
Runtime-Version: 2.8.0.qualifier
Save-Time: 1/16/26, 3:47â€¯PM
Testcase-Type: ecl

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Content-Type: text/plain
Entry-Name: .description

Copyright (c) 2009, 2019 Xored Software Inc and others.
All rights reserved. This program and the accompanying materials
are made available under the terms of the Eclipse Public License v2.0
which accompanies this distribution, and is available at
https://www.eclipse.org/legal/epl-v20.html

Contributors:
    Xored Software Inc - initial creation and/or initial documentation
--------------------------------------------------------------------------------

TEST STEPS:

1. Open a Dialog in selfAUT;
2. Apply a workbench context;
3. Verify that the context is failed and the corresponding error is shown.  
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content


get-view "Test Explorer" | get-tree | select "Project/OpenDialog" | double-click
get-editor OpenDialog | get-button Replay | click
try {
	get-view "Test Explorer" | get-tree | select "Project/TestWithABrokenContext" | double-click
	
	set-q7-option -key "context.runnable.timeout" -value 10000
	get-editor TestWithABrokenContext | get-button Replay | click
	
	waitForTaskToComplete
} -finally {
	get-aut "mockupsQ7" | eval {
		get-window "My Title" | get-button "First" | click
	}
}
get-view "Execution View" | get-button "Details..." | click
with [get-window "Execution details"] {
    with [get-button Next] {
        click
    }
    take-screenshot
    get-tab-folder | get-tab-item Description | click
}
get-window "Execution details" | get-editbox | get-property text | contains "ECL session execute: get-advanced-info" | verify-true
get-window "Execution details" | get-button OK | click
get-view "Execution View" | get-editbox -after [get-label "Message:"] | get-property text 
    | contains "Shell with name My Title and class org.eclipse.swt.widgets.Shell is not disposed and visible" 
    | verify-true
get-view "Execution View" | get-button Report | click
with [get-window -class WizardDialog] {
    get-button "Generate to workspace" | click
    get-editbox -after [get-label "Name:"] | set-text "report"
    get-editbox -after [get-label "Location:"] | set-text "/Project"
    get-button Finish | click
}

read-file "workspace:/Project/report.html" |  contains "ECL session execute: get-advanced-info" | verify-true

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
